{% extends "base.html" %}
{% block title %}Tarefas ConcluÃ­das{% endblock %}

{% block content %}

<style>
    body {
        background-color: #0d1b2a;
    }

    .card-dark {
        background-color: #1b263b;
        color: #e0e6ed;
        border: 1px solid #415a77;
    }

    .table-dark-blue {
        background-color: #1b263b;
        color: #e0e6ed;
    }

    .table-dark-blue thead {
        background-color: #415a77;
        color: white;
    }

    .table-dark-blue tbody tr:hover {
        background-color: #16243a;
        cursor: pointer;
    }

    .side-image {
        width: 130px;
        opacity: 0.85;
        border-radius: 12px;
    }

    .side-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
</style>

<div class="container mt-4">

    <h1 class="text-center text-light mb-4">Tarefas PendentesðŸš¨</h1>

    <div class="row">

        <!-- IMAGENS LADO ESQUERDO -->
        <div class="col-2 side-container">
            <img class="side-image" src="https://th.bing.com/th/id/OIP.f9wQCqu6oa1RDI9Im7DqgwAAAA?w=159&h=180&c=7&r=0&o=7&pid=1.7&rm=3" alt="motivacional">
            <img class="side-image" src="https://th.bing.com/th/id/OIP.f9wQCqu6oa1RDI9Im7DqgwAAAA?w=159&h=180&c=7&r=0&o=7&pid=1.7&rm=3" alt="motivacional">
        </div>

        <!-- TABELA -->
        <div class="col-8">
            <div class="card card-dark shadow-lg p-3">

                <table class="table table-dark-blue table-hover align-middle">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>TÃ­tulo</th>
                            <th>DescriÃ§Ã£o</th>
                            <th>ConcluÃ­da</th>
                            <th>Prioridade</th>
                        </tr>
                    </thead>

                    <tbody>
                        {% for task in tarefas %}
                        <tr>
                            <td>{{ task.id }}</td>
                            <td class="fw-bold">{{ task.titulo }}</td>
                            <td>{{ task.descricao }}</td>

                            <!-- CAMPO CONCLUÃDA CORRIGIDO -->
                            <td>
                                {% if task.concluida %}
                                    <span class="badge bg-success">Sim</span>
                                {% else %}
                                    <span class="badge bg-danger">NÃ£o</span>
                                {% endif %}
                            </td>

                            <td>
                                {% if task.prioridade == "A" %}
                                    <span class="badge bg-danger">Alta</span>
                                {% elif task.prioridade == "M" %}
                                    <span class="badge bg-warning text-dark">MÃ©dia</span>
                                {% else %}
                                    <span class="badge bg-secondary">Baixa</span>
                                {% endif %}
                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="5" class="text-center text-muted py-4">
                                Nenhuma tarefa concluÃ­da ainda! ðŸ˜´
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>

            </div>
        </div>

        <!-- IMAGENS LADO DIREITO -->
        <div class="col-2 side-container">
            <img class="side-image" src="https://th.bing.com/th/id/OIP.f9wQCqu6oa1RDI9Im7DqgwAAAA?w=159&h=180&c=7&r=0&o=7&pid=1.7&rm=3" alt="motivacional">
            <img class="side-image" src="https://th.bing.com/th/id/OIP.f9wQCqu6oa1RDI9Im7DqgwAAAA?w=159&h=180&c=7&r=0&o=7&pid=1.7&rm=3" alt="motivacional">
        </div>

    </div>

</div>

{% endblock %}
